<div class="container">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/user/home">Home</a></li>
      <li class="breadcrumb-item active" aria-current="page">Rank geral</li>
    </ol>
  </nav>
  {{#if user.privacidade.rank}}
    <!-- Usuarios que não são privados verão está pagina-->
      <div class="table-responsive-sm text-center">
        <table class="table table-dark table-hover">
          <thead>
            <tr>
              <th scope="col">
              <!-- Recado -->
              <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#recado">
                <svg class="bi bi-pencil-square" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                  <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                </svg>
              </button>

              </th>
              <th scope="col"><svg class="bi bi-person-lines-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm7 1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm0-3a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm2 9a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5z"/>
              </svg> - Nome</th>
              <th scope="col">
                <svg class="bi bi-book-half" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M12.786 1.072C11.188.752 9.084.71 7.646 2.146A.5.5 0 0 0 7.5 2.5v11a.5.5 0 0 0 .854.354c.843-.844 2.115-1.059 3.47-.92 1.344.14 2.66.617 3.452 1.013A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.276-.447L15.5 2.5l.224-.447-.002-.001-.004-.002-.013-.006-.047-.023a12.582 12.582 0 0 0-.799-.34 12.96 12.96 0 0 0-2.073-.609zM15 2.82v9.908c-.846-.343-1.944-.672-3.074-.788-1.143-.118-2.387-.023-3.426.56V2.718c1.063-.929 2.631-.956 4.09-.664A11.956 11.956 0 0 1 15 2.82z"/>
                  <path fill-rule="evenodd" d="M3.214 1.072C4.813.752 6.916.71 8.354 2.146A.5.5 0 0 1 8.5 2.5v11a.5.5 0 0 1-.854.354c-.843-.844-2.115-1.059-3.47-.92-1.344.14-2.66.617-3.452 1.013A.5.5 0 0 1 0 13.5v-11a.5.5 0 0 1 .276-.447L.5 2.5l-.224-.447.002-.001.004-.002.013-.006a5.017 5.017 0 0 1 .22-.103 12.958 12.958 0 0 1 2.7-.869z"/>
                </svg> - Curso</th>
              <th scope="col">
                 Neutrinos
                <div class="spinner-grow spinner-grow-sm text-info" role="status">
                  <span class="sr-only"></span>
                </div>
              </th>
              <th scope="col">
               Tempo total
               <img src="https://i.pinimg.com/originals/24/75/7d/24757d57ba054e9144ea483574f706b1.gif" style="width: 25px; height: 30px;">
               </th>
              <th scope="col">
                Resumos
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-file-earmark-text-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M2 3a2 2 0 0 1 2-2h5.293a1 1 0 0 1 .707.293L13.707 5a1 1 0 0 1 .293.707V13a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V3zm7 2V2l4 4h-3a1 1 0 0 1-1-1zM4.5 8a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5z"/>
                </svg>
              </th>
            </tr>
          </thead>
          <tbody>
          {{#each usuarios}}
            {{#if privacidade.rank}} <!-- Só lista os usuarios que não são privados -->
            <tr>
              <td><span class="d-inline-block text-right" tabindex="0" data-toggle="tooltip" title="{{{recado}}}"><img class="rounded-circle border border-secondary" style="width: 40px; height: 40px;" src="{{foto}}"></span>
              </td>
              <td class="text-center"><a href="/perfis/perfil/{{_id}}" style="text-decoration: none;"><b class="pessoas text-light">{{name}}</b></a>
              </td>
              <td>{{curso}}</td>
              <td>{{historico.neutrinos}}</td>
              <td>{{historico.total}} minutos</td>
              <td>{{resumos}}</td>   
            </tr>
            {{else}}
            {{/if}}
          {{/each}}
          </tbody>
        </table>
      </div>
    </div>
  <!-- Usuarios que são privados verão esta pagina-->
  {{else}}
      <div class="alert alert-warning text-center">
        Sua privacidade de rank está ativada
      </div>
  {{/if}}
    
 

<!-- Modal Recado -->
<div class="modal fade" id="recado" tabindex="-1" role="dialog" aria-labelledby="recado" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Escreva seu recado</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form action="/authUser/registerRecado" class="was-validated" method="POST">
          <div class="mb-3">
              <input type="text" class="form-control is-valid" placeholder="Fale algo de bom"  id="conteudo" name="recado" value="{{user.recado}}" required>
                <div class="container responsive-sm">
                  <button type="button" class="btn btn-sm">😁</button>
                  <button type="button" class="btn btn-sm">😂</button>
                  <button type="button" class="btn btn-sm">😃</button>
                  <button type="button" class="btn btn-sm">😅</button>
                  <button type="button" class="btn btn-sm">🙌</button>
                  <button type="button" class="btn btn-sm">🙏</button>
                </div>
          </div>    
          <input type="hidden" name="id" value="{{user._id}}">
        <button type="submit" class="btn btn-secondary">Salvar</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
      </form>
      </div>
    </div>
  </div>
</div>